"use strict";(self.webpackChunkwaifu=self.webpackChunkwaifu||[]).push([[6266],{57968:(e,t,n)=>{e.exports=n.p+"static/media/banner.19a7b0c11f19529a5e3d.jpeg"},64851:e=>{e.exports=JSON.parse('[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"burn","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"burnFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"registerMe","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"}]')},76795:(e,t,n)=>{n.r(t),n.d(t,{default:()=>F,useRefresh:()=>A});var a=n(65043),i=n(43826),s=n(21162),r=n(30873),l=n(40908),o=n(95426),u=n(86213),d=n(23768),p=n(13394);const c=n.p+"static/media/mission0.635d08af36b017c9721a.jpeg",y=n.p+"static/media/mission5.b0e6f3994a4c2720eb4f.jpeg",m=n.p+"static/media/mission10.f41105422e5ee665b0f2.jpeg",f=n.p+"static/media/mission20.8a9f49fd68c0e66e0cfc.jpeg",b=n.p+"static/media/mission50.87b07b6025c2f26b8f63.jpeg";var v=n(57968),g=n(83271),T=n(80662),h=n(64851);const N=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"xp","type":"uint256"}],"name":"FeedResult","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint8","name":"version","type":"uint8"}],"name":"Initialized","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"lastPlayTime","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"result","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"reward","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"claimableAmount","type":"uint256"}],"name":"MissionResult","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"stateMutability":"payable","type":"fallback"},{"inputs":[],"name":"bettingToken","outputs":[{"internalType":"contract ERC20Burnable","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_tokenId","type":"uint256"}],"name":"claimReward","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_tokenId","type":"uint256"}],"name":"feed","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"feedingPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"feedingValue","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256[]","name":"_tokenIds","type":"uint256[]"}],"name":"getItemInfos","outputs":[{"components":[{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"lastPlayTime","type":"uint256"},{"internalType":"uint256","name":"lastResult","type":"uint256"},{"internalType":"uint256","name":"lastReward","type":"uint256"},{"internalType":"uint256","name":"claimableAmount","type":"uint256"},{"internalType":"uint256","name":"xp","type":"uint256"}],"internalType":"struct ItemInfo[]","name":"","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_user","type":"address"}],"name":"getTokensForUser","outputs":[{"components":[{"internalType":"uint256","name":"token_id","type":"uint256"},{"internalType":"bool","name":"is_staked","type":"bool"}],"internalType":"struct NFTInfo[]","name":"_tokensForUser","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"initialize","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"itemInfos","outputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"lastPlayTime","type":"uint256"},{"internalType":"uint256","name":"lastResult","type":"uint256"},{"internalType":"uint256","name":"lastReward","type":"uint256"},{"internalType":"uint256","name":"claimableAmount","type":"uint256"},{"internalType":"uint256","name":"xp","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"missionCooldown","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"missionPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"nft","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_tokenId","type":"uint256"}],"name":"returnToWallet","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_tokenId","type":"uint256"}],"name":"sendToMission","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_token","type":"address"}],"name":"setBettingToken","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_chance1","type":"uint256"},{"internalType":"uint256","name":"_chance2","type":"uint256"},{"internalType":"uint256","name":"_chance3","type":"uint256"},{"internalType":"uint256","name":"_chance4","type":"uint256"},{"internalType":"uint256","name":"_chance5","type":"uint256"}],"name":"setChances","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_cooldown","type":"uint256"}],"name":"setCooldown","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_price","type":"uint256"}],"name":"setFeedingPrice","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_value","type":"uint256"}],"name":"setFeedingValue","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_price","type":"uint256"}],"name":"setMissionPrice","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_nft","type":"address"}],"name":"setNFT","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_reward1","type":"uint256"},{"internalType":"uint256","name":"_reward2","type":"uint256"},{"internalType":"uint256","name":"_reward3","type":"uint256"},{"internalType":"uint256","name":"_reward4","type":"uint256"},{"internalType":"uint256","name":"_reward5","type":"uint256"}],"name":"setRewards","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_tokenId","type":"uint256"}],"name":"startMission","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_owner","type":"address"}],"name":"tokensOfOwner","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"withdrawToken","outputs":[],"stateMutability":"nonpayable","type":"function"},{"stateMutability":"payable","type":"receive"}]');var x=n(26572),w=n(70579);const M="115792089237316195423570985008687907853269984665640564039457584007913129639935",j=[{level:1,require:200,start:0,end:199},{level:2,require:205,start:200,end:404},{level:3,require:210,start:405,end:614},{level:4,require:215,start:615,end:829},{level:5,require:220,start:830,end:1049},{level:6,require:225,start:1050,end:1274},{level:7,require:230,start:1275,end:1504},{level:8,require:235,start:1505,end:1739},{level:9,require:240,start:1740,end:1979},{level:10,require:245,start:1980,end:2224},{level:11,require:250,start:2225,end:2474},{level:12,require:255,start:2475,end:2729},{level:13,require:260,start:2730,end:2989},{level:14,require:265,start:2990,end:3254},{level:15,require:270,start:3255,end:3524},{level:16,require:275,start:3525,end:3799},{level:17,require:280,start:3800,end:4079},{level:18,require:285,start:4080,end:4364},{level:19,require:290,start:4365,end:4654},{level:20,require:295,start:4655,end:4949},{level:21,require:300,start:4950,end:5249},{level:22,require:305,start:5250,end:5554},{level:23,require:310,start:5555,end:5864},{level:24,require:315,start:5865,end:6179},{level:25,require:320,start:6180,end:6499},{level:26,require:325,start:6500,end:6824},{level:27,require:330,start:6825,end:7154},{level:28,require:335,start:7155,end:7489},{level:29,require:340,start:7490,end:7829},{level:30,require:345,start:7830,end:8174},{level:31,require:350,start:8175,end:8524},{level:32,require:355,start:8525,end:8879},{level:33,require:360,start:8880,end:9239},{level:34,require:365,start:9240,end:9604},{level:35,require:370,start:9605,end:9974},{level:36,require:375,start:9975,end:10349},{level:37,require:380,start:10350,end:10729},{level:38,require:385,start:10730,end:11114},{level:39,require:390,start:11115,end:11504},{level:40,require:395,start:11505,end:11899},{level:41,require:400,start:11900,end:12299},{level:42,require:405,start:12300,end:12704},{level:43,require:410,start:12705,end:13114},{level:44,require:415,start:13115,end:13529},{level:45,require:420,start:13530,end:13949},{level:46,require:425,start:13950,end:14374},{level:47,require:430,start:14375,end:14804},{level:48,require:435,start:14805,end:15239},{level:49,require:440,start:15240,end:15679},{level:50,require:445,start:15680,end:16124},{level:51,require:450,start:16125,end:16574},{level:52,require:455,start:16575,end:17029},{level:53,require:460,start:17030,end:17489},{level:54,require:465,start:17490,end:17954},{level:55,require:470,start:17955,end:18424},{level:56,require:475,start:18425,end:18899},{level:57,require:480,start:18900,end:19379},{level:58,require:485,start:19380,end:19864},{level:59,require:490,start:19865,end:20354},{level:60,require:495,start:20355,end:20849},{level:61,require:500,start:20850,end:21349},{level:62,require:505,start:21350,end:21854},{level:63,require:510,start:21855,end:22364},{level:64,require:515,start:22365,end:22879},{level:65,require:520,start:22880,end:23399},{level:66,require:525,start:23400,end:23924},{level:67,require:530,start:23925,end:24454},{level:68,require:535,start:24455,end:24989},{level:69,require:540,start:24990,end:25529},{level:70,require:545,start:25530,end:26074},{level:71,require:550,start:26075,end:26624},{level:72,require:555,start:26625,end:27179},{level:73,require:560,start:27180,end:27739},{level:74,require:565,start:27740,end:28304},{level:75,require:570,start:28305,end:28874},{level:76,require:575,start:28875,end:29449},{level:77,require:580,start:29450,end:30029},{level:78,require:585,start:30030,end:30614},{level:79,require:590,start:30615,end:31204},{level:80,require:595,start:31205,end:31799},{level:81,require:600,start:31800,end:32399}],k=Array.from({length:1e4},((e,t)=>({isApprovingFeeding:!1,isApprovingNFT:!1,isApprovingMission:!1,isBetting:!1,isFeeding:!1,isSendingToMission:!1,isReturningToWallet:!1}))),A=()=>{const{fast:e,slow:t}=(0,a.useContext)(x.X);return{fastRefresh:e,slowRefresh:t}};function F(){const{fastRefresh:e}=A(),t=(0,i.i)(),{address:n}=(0,s.F)(),{writeContractAsync:x}=(0,r.x)(),[F,q]=(0,a.useState)([]),{data:I,refetch:O}=(0,l.Q)({address:t===g.dO?g.XN:g.wj,abi:h,functionName:"balanceOf",args:[n],chainId:t,enabled:!!n&&!!t}),{data:S,refetch:R}=(0,l.Q)({address:t===g.dO?g.XN:g.wj,abi:h,functionName:"allowance",args:[n,t===g.dO?g.Zf:g.oc],chainId:t,enabled:!!n&&!!t}),{data:_,refetch:C}=(0,l.Q)({address:t===g.dO?g.k8:g.PY,abi:T,functionName:"isApprovedForAll",args:[n,t===g.dO?g.Zf:g.oc],chainId:t,enabled:!!n&&!!t}),{data:E,refetch:P}=(0,l.Q)({address:t===g.dO?g.Zf:g.oc,abi:N,functionName:"missionPrice",args:[],chainId:t,enabled:!!n&&!!t}),{data:B,refetch:G}=(0,l.Q)({address:t===g.dO?g.Zf:g.oc,abi:N,functionName:"feedingPrice",args:[],chainId:t,enabled:!!n&&!!t}),{data:Y,refetch:L}=(0,l.Q)({address:t===g.dO?g.Zf:g.oc,abi:N,functionName:"getItemInfos",args:[F],chainId:t,enabled:!!n&&!!t}),{data:W,refetch:Z}=(0,l.Q)({address:t===g.dO?g.Zf:g.oc,abi:N,functionName:"getTokensForUser",args:[n],chainId:t,enabled:!!n&&!!t}),[$,U]=(0,a.useState)([]),[Q,D]=(0,a.useState)([]),[V,X]=(0,a.useState)(!1),[H,J]=(0,a.useState)(!1),[z,K]=(0,a.useState)(!1),[ee,te]=(0,a.useState)(!1),[ne,ae]=(0,a.useState)(0),[ie,se]=(0,a.useState)(!1),[re,le]=(0,a.useState)(!1),[oe,ue]=(0,a.useState)(k);(0,a.useEffect)((()=>{O(),R(),C(),Z(),L()}),[e]),(0,a.useEffect)((()=>{if(W){const e=W.sort(((e,t)=>Number(e.token_id)-Number(t.token_id)));U(e)}}),[W]),(0,a.useEffect)((()=>{if((null===$||void 0===$?void 0:$.length)>0){const e=$.map((e=>Number(e.token_id)));q(e),ce(e)}else if(n&&t){const e=setTimeout((()=>{V&&(X(!1),q([]),D([]))}),5e3);return()=>clearTimeout(e)}}),[$,n,t,V]),(0,a.useEffect)((()=>{null!=S&&null!=E&&(Number(o.ck(S))<Number(o.ck(E))?K(!0):K(!1))}),[S,E]);const[de,pe]=(0,a.useState)(null);(0,a.useEffect)((()=>{if(ee&&null!==de){console.log("\ud83c\udfaf Setting up reward popup for NFT:",de),se(!0),ae(0);const e=setTimeout((async()=>{try{console.log("\ud83d\udd0d Timer triggered for NFT:",de);const e=await L();console.log("\ud83d\udd0d Refetch result:",e);const t=(null===e||void 0===e?void 0:e.data)||Y;if(console.log("\ud83d\udd0d Fresh mission item infos:",t),console.log("\ud83d\udd0d Token IDs:",F),t&&F.length>0){const e=F.indexOf(Number(de));if(console.log("\ud83d\udd0d Token index found:",e),e>=0&&t[e]){console.log("\ud83d\udd0d Mission item info at index:",t[e]);const n=Number(o.ck(t[e].claimableAmount));console.log("\ud83d\udd0d Claimable amount:",n),ae(n)}else console.log(`\u274c NFT #${de} not found in mission item infos`)}else console.log("\u274c No fresh mission item infos or token IDs")}catch(e){console.error("\u274c Error checking claimable amount:",e)}finally{console.log("\u2705 Turning off loading"),se(!1)}}),5e3);return()=>clearTimeout(e)}}),[ee,de]);const ce=async e=>{try{const n=await u.A.get(`${t===g.dO?g.QQ:g.VZ}/api/newgame/getMetadatas`,{params:{tokenids:e}});n.data.success&&(D(n.data.data),X(!1))}catch(n){console.log(n),X(!1)}},ye=e=>{if(e<=0)return"Available";const t=Math.floor(e/36e5),n=Math.floor(e%36e5/6e4);return t>0?`${t}h ${n}m`:`${n}m`};return(0,w.jsxs)(p.A,{children:[(0,w.jsxs)("div",{className:"balance-container",children:[(0,w.jsxs)("div",{className:"balance-item",children:["GOTCHA Balance: ",(0,w.jsx)("span",{className:"balance-value",children:F.length})]}),(0,w.jsxs)("div",{className:"balance-item",children:["$GG Balance: ",(0,w.jsx)("span",{className:"balance-value",children:I?parseInt(o.ck(I)):0})]})]}),(0,w.jsx)("div",{className:"weekly-mission-container",children:(0,w.jsxs)("div",{className:"mission-banner-wrapper",children:[(0,w.jsxs)("div",{className:"mission-banner-image",children:[(0,w.jsx)("img",{src:v,alt:"Weekly Mission"}),(0,w.jsx)("div",{className:"mission-overlay"}),(0,w.jsx)("div",{className:"mission-badge",children:"WEEKLY MISSION"})]}),(0,w.jsxs)("div",{className:"mission-banner-content",children:[(0,w.jsx)("h2",{className:"mission-title",children:"MISSION 1: THE FORGOTTEN FLAME"}),(0,w.jsxs)("div",{className:"mission-level",children:[(0,w.jsxs)("div",{className:"level-indicator",children:[(0,w.jsx)("span",{className:"level-star",children:"\u2605"}),(0,w.jsx)("span",{className:"level-star",children:"\u2605"}),(0,w.jsx)("span",{className:"level-star",children:"\u2605"})]}),(0,w.jsx)("div",{className:"elemental-essence",children:"Elemental Essence: Fire Essence"})]}),(0,w.jsx)("p",{className:"mission-description",children:"A tomb of a forgotten guardian has been discovered within a temple carved deep into an ash-covered mountain. Legends say this is the first place where the Fire Essence was sealed. After the recent volcanic eruption, the inner chamber of the tomb may have been exposed."}),(0,w.jsxs)("p",{className:"mission-objective",children:[(0,w.jsx)("strong",{children:"Objective:"})," Find the Fire Essence hidden within the tomb, buried among the burning stones."]}),(0,w.jsxs)("div",{className:"mission-reward",children:[(0,w.jsx)("span",{className:"reward-icon fire-crystal"})," Reward Pool: $GG"]}),(0,w.jsx)("div",{className:"mission-rewards",children:(0,w.jsxs)("div",{className:"reward-item",children:[(0,w.jsx)("div",{className:"reward-icon fire"}),(0,w.jsx)("span",{className:"reward-label",children:"FIRE CRYSTAL"})]})})]})]})}),(0,w.jsx)("div",{className:"auto-feed-container",children:(0,w.jsxs)("div",{className:"auto-feed-content",children:[V?(0,w.jsxs)("div",{className:"loading-container",children:[(0,w.jsx)("div",{className:"loading-spinner"}),(0,w.jsx)("p",{children:"Loading your NFTs..."})]}):0===Q.length?(0,w.jsx)("div",{className:"no-nfts-message",children:(0,w.jsx)("p",{children:"You don't have any NFTs in your wallet."})}):(0,w.jsx)("div",{className:"nft-grid",children:Y&&Q.map(((e,n)=>{const a=1e3*Number(Y[n].lastPlayTime)+864e5-Date.now()<=0,i=Number(o.ck(Y[n].claimableAmount))>0,s=Number(Y[n].xp),r=j.find((e=>s>=e.start&&s<=e.end)).level,l=1e3*Number(Y[n].lastPlayTime)+864e5-Date.now();return(0,w.jsxs)("div",{className:"nft-mission-card "+(n%3===0?"fire-type":n%3===1?"water-type":"earth-type"),children:[(0,w.jsxs)("div",{className:"nft-info-section",children:[(0,w.jsxs)("div",{className:"nft-image-container",children:[(0,w.jsx)("img",{src:e.image,alt:e.name,className:"nft-image"}),(0,w.jsxs)("div",{className:"nft-level-badge",children:["LVL ",r]})]}),(0,w.jsxs)("div",{className:"nft-details",children:[(0,w.jsxs)("div",{className:"nft-id",children:["#",e.tokenid]}),(0,w.jsx)("div",{className:"nft-name",children:e.name}),l>0&&(0,w.jsxs)("div",{className:"mission-status",children:[(0,w.jsx)("div",{className:"status-icon",children:"\u23f0"}),(0,w.jsxs)("div",{className:"status-text",children:[(0,w.jsx)("span",{className:"status-label",children:"On Mission"}),(0,w.jsx)("span",{className:"status-time",children:ye(l)})]})]}),i&&(0,w.jsxs)("div",{className:"reward-ready",children:[(0,w.jsx)("div",{className:"reward-icon",children:"\ud83c\udf81"}),(0,w.jsx)("span",{className:"reward-text",children:"Treasure Ready!"})]})]})]}),(0,w.jsxs)("div",{className:"nft-actions-section",children:[(0,w.jsxs)("div",{className:"action-group",children:[(0,w.jsxs)("div",{className:"action-info",children:[(0,w.jsx)("span",{className:"action-label",children:"Feed Guardian"}),(0,w.jsxs)("span",{className:"action-cost",children:[Number(o.ck(B))," $GG"]})]}),(0,w.jsx)("button",{className:"action-button feed-button "+(oe[n].isFeeding||oe[n].isApprovingFeeding?"loading":""),onClick:()=>{oe[n].isFeeding||(async(e,n)=>{if(J(!0),setTimeout((()=>{J(!1)}),4500),e){const i=document.querySelector(".ultra-feed-button-inner");if(i&&(i.classList.add("ultra-feed-button-click-effect"),setTimeout((()=>{i.classList.remove("ultra-feed-button-click-effect")}),500)),z){let e=oe;return e[n].isApprovingFeeding=!0,ue(e),void await x({address:t===g.dO?g.XN:g.wj,abi:h,functionName:"approve",args:[t===g.dO?g.Zf:g.oc,M]}).then((()=>{e[n].isApprovingFeeding=!1,ue(e)})).finally((()=>{e[n].isApprovingFeeding=!1,ue(e)})).catch((t=>{e[n].isApprovingFeeding=!1,ue(e),d.Ay.error("Approval failed.")}))}let s=!1,r=oe;if(r[n].isFeeding=!0,ue(r),await x({address:t===g.dO?g.Zf:g.oc,abi:N,functionName:"feed",args:[e.tokenid]}).then((()=>{r[n].isFeeding=!1,ue(r),s=!0})).finally((()=>{r[n].isFeeding=!1,ue(r)})).catch((e=>{console.log("handleFeed error = ",e),r[n].isFeeding=!1,ue(r)})),s)try{const n=await u.A.post(`${t===g.dO?g.QQ:g.VZ}/api/newgame/updateLevel`,{nftId:e.tokenid});!0===n.data.success||d.Ay.error(n.data.message)}catch(a){console.log(a),d.Ay.error("An error occurred while feeding.")}}else d.Ay.error("Please select a NFT to feed.")})(e,n)},disabled:oe[n].isFeeding||oe[n].isApprovingFeeding,children:(0,w.jsx)("div",{className:"button-content",children:(0,w.jsx)("span",{className:"button-text",children:z?oe[n].isApprovingFeeding?"Approving...":"Approve GG":oe[n].isFeeding?"Feeding...":"Feed"})})})]}),(0,w.jsxs)("div",{className:"action-group",children:[(0,w.jsxs)("div",{className:"action-info",children:[(0,w.jsx)("span",{className:"action-label",children:"Mission"}),(0,w.jsxs)("span",{className:"action-cost",children:[Number(o.ck(E))," $GG"]})]}),a&&(_?$[n].is_staked?(0,w.jsx)("button",{className:"action-button mission-button "+(oe[n].isReturningToWallet?"loading":""),onClick:()=>{oe[n].isReturningToWallet||(async(e,n)=>{if(e){let a=oe;a[n].isReturningToWallet=!0,ue(a),await x({address:t===g.dO?g.Zf:g.oc,abi:N,functionName:"returnToWallet",args:[e.tokenid]}).then((()=>{a[n].isReturningToWallet=!1,ue(a),d.Ay.success("Returned a NFT to Your Wallet Successfully!")})).finally((()=>{a[n].isReturningToWallet=!1,ue(a)})).catch((e=>{a[n].isReturningToWallet=!1,ue(a),console.error("Mission error:",e)}))}else d.Ay.error("Please select a NFT to return to Your Wallet.")})(e,n)},disabled:oe[n].isReturningToWallet,children:(0,w.jsxs)("div",{className:"button-content",children:[(0,w.jsx)("span",{className:"button-icon",children:"\u21a9"}),(0,w.jsx)("span",{className:"button-text",children:oe[n].isReturningToWallet?"Returning...":"Return To Wallet"})]})}):(0,w.jsx)("button",{className:"action-button mission-button "+(oe[n].isSendingToMission?"loading":""),onClick:()=>{oe[n].isSendingToMission||(async(e,n)=>{if(e){let a=oe;a[n].isSendingToMission=!0,ue(a),await x({address:t===g.dO?g.Zf:g.oc,abi:N,functionName:"sendToMission",args:[e.tokenid]}).then((()=>{a[n].isSendingToMission=!1,ue(a),d.Ay.success("Sent a NFT to Mission Successfully! Please start Mission!")})).finally((()=>{a[n].isSendingToMission=!1,ue(a)})).catch((e=>{a[n].isSendingToMission=!1,ue(a),console.error("Mission error:",e)}))}else d.Ay.error("Please select a NFT to send to Mission.")})(e,n)},disabled:oe[n].isSendingToMission,children:(0,w.jsxs)("div",{className:"button-content",children:[(0,w.jsx)("span",{className:"button-icon",children:"\u21aa"}),(0,w.jsx)("span",{className:"button-text",children:oe[n].isSendingToMission?"Sending...":"Send To Mission"})]})}):(0,w.jsx)("button",{className:"action-button mission-button "+(oe[n].isApprovingNFT?"loading":""),onClick:()=>{oe[n].isApprovingNFT||(async(e,n)=>{if(e){if(!_){let e=oe;e[n].isApprovingNFT=!0,ue(e),await x({address:t===g.dO?g.k8:g.PY,abi:T,functionName:"setApprovalForAll",args:[t===g.dO?g.Zf:g.oc,!0]}).then((()=>{e[n].isApprovingNFT=!1,ue(e)})).finally((()=>{e[n].isApprovingNFT=!1,ue(e)})).catch((t=>{e[n].isApprovingNFT=!1,ue(e),d.Ay.error("Approval failed.")}))}}else d.Ay.error("Please select a NFT to approve.")})(e,n)},disabled:oe[n].isApprovingNFT,children:(0,w.jsxs)("div",{className:"button-content",children:[(0,w.jsx)("span",{className:"button-icon",children:"\u2694\ufe0f"}),(0,w.jsx)("span",{className:"button-text",children:oe[n].isApprovingNFT?"Approving...":"Approve NFT"})]})})),a?(0,w.jsx)("button",{className:`action-button mission-button ${oe[n].isBetting||oe[n].isApprovingMission?"loading":""}}`,onClick:()=>{oe[n].isBetting||(async(e,n)=>{if(e){if(z){let e=oe;return e[n].isApprovingMission=!0,ue(e),void await x({address:t===g.dO?g.XN:g.wj,abi:h,functionName:"approve",args:[t===g.dO?g.Zf:g.oc,M]}).then((()=>{e[n].isApprovingMission=!1,ue(e)})).finally((()=>{e[n].isApprovingMission=!1,ue(e)})).catch((t=>{e[n].isApprovingMission=!1,ue(e),d.Ay.error("Approval failed.")}))}let a=oe;a[n].isBetting=!0,ue(a),await x({address:t===g.dO?g.Zf:g.oc,abi:N,functionName:"startMission",args:[e.tokenid]}).then((()=>{a[n].isBetting=!1,ue(a),d.Ay.success("Mission started! Wait for rewards to become claimable.")})).finally((()=>{a[n].isBetting=!1,ue(a)})).catch((e=>{a[n].isBetting=!1,ue(a),console.error("Mission error:",e)}))}else d.Ay.error("Please select a NFT to start Mission.")})(e,n)},disabled:oe[n].isBetting||oe[n].isApprovingMission||!$[n].is_staked,children:(0,w.jsxs)("div",{className:"button-content",children:[(0,w.jsx)("span",{className:"button-icon",children:"\u2694\ufe0f"}),(0,w.jsx)("span",{className:"button-text",children:z?oe[n].isApprovingMission?"Approving...":"Approve GG":oe[n].isBetting?"Deploying...":"Start Mission"})]})}):(0,w.jsx)("div",{className:"mission-cooldown",children:(0,w.jsxs)("div",{className:"cooldown-content",children:[(0,w.jsx)("span",{className:"cooldown-icon",children:"\u23f1\ufe0f"}),(0,w.jsx)("span",{className:"cooldown-text",children:"On Mission"}),(0,w.jsx)("span",{className:"cooldown-time",children:ye(l)})]})})]}),(0,w.jsx)("div",{className:"action-group",children:i?(0,w.jsxs)("button",{className:"action-button claim-button treasure-ready "+(e.isClaiming?"loading":""),onClick:()=>{e.isClaiming||(async e=>{e?(pe(e.tokenid),te(!0),se(!0),ae(0)):d.Ay.error("Please select a NFT to claim.")})(e)},disabled:e.isClaiming,children:[(0,w.jsxs)("div",{className:"button-content",children:[(0,w.jsx)("span",{className:"button-icon",children:"\ud83c\udf81"}),(0,w.jsx)("span",{className:"button-text",children:e.isClaiming?"Opening...":"Open Treasure!"})]}),(0,w.jsx)("div",{className:"treasure-glow"})]}):(0,w.jsx)("div",{className:"no-reward",children:(0,w.jsx)("span",{className:"no-reward-text",children:"No treasures yet"})})})]})]},e.tokenid)}))}),H&&(0,w.jsx)("div",{className:"feed-animation-overlay",children:(0,w.jsxs)("div",{className:"feed-animation-container",children:[(0,w.jsx)("img",{src:"/assets/autobBattle/BossIcon.png",alt:"Feed",className:"feed-icon"}),(0,w.jsx)("img",{src:"/assets/autobBattle/Fast.png",alt:"Clock",className:"fast-icon"}),(0,w.jsx)("div",{className:"feed-text",children:"Feeding..."})]})})]})}),ee&&(0,w.jsx)("div",{className:"gamified-reward-overlay",onClick:()=>te(!1),children:ie?(0,w.jsx)("div",{className:"gamified-reward-container loading-theme",onClick:e=>e.stopPropagation(),children:(0,w.jsxs)("div",{className:"gamified-loading-container",children:[(0,w.jsxs)("div",{className:"gamified-loading-effect",children:[(0,w.jsx)("div",{className:"gamified-loading-spinner"}),(0,w.jsx)("div",{className:"gamified-loading-flames"})]}),(0,w.jsx)("div",{className:"gamified-loading-text",children:"EXPLORING THE TEMPLE"}),(0,w.jsx)("div",{className:"gamified-loading-progress",children:(0,w.jsx)("div",{className:"gamified-loading-progress-bar"})}),(0,w.jsx)("div",{className:"gamified-loading-subtext",children:(0,w.jsx)("span",{className:"typing-animation",children:"Your character is navigating through.."})})]})}):(0,w.jsxs)("div",{className:"gamified-reward-container "+(0===ne?"lost":5e4===ne?"legendary":2e4===ne?"epic":1e4===ne?"rare":"uncommon"),onClick:e=>e.stopPropagation(),children:[(0,w.jsx)("img",{className:"gamified-reward-image",src:0===ne?c:5e4===ne?b:2e4===ne?f:1e4===ne?m:y,alt:"Mission result"}),(0,w.jsxs)("div",{className:"gamified-reward-content",children:[(0,w.jsx)("div",{className:"gamified-reward-title",children:0===ne?"MISSION FAILED!":5e4===ne?"LEGENDARY DISCOVERY!":2e4===ne?"EPIC TREASURE!":1e4===ne?"RARE FIND!":"SUCCESSFUL MISSION!"}),(0,w.jsx)("div",{className:"gamified-reward-story",children:0===ne?"You didn't notice the trap while opening the tomb, and lava suddenly started flowing into the temple. You barely escaped with your life!":5e4===ne?"Congratulations! You reached the tomb in the temple. It seems someone was here before but stayed too long. You've brought back the Fire Element essence and a treasure chest!":2e4===ne?"Congratulations! You reached the tomb in the temple. It seems someone was here before but fled from the lava eruptions. You've brought back the Fire Element essence and two diamonds!":1e4===ne?"Congratulations! You reached the tomb in the temple. Someone was here before you but things didn't go well for them. You've brought back the Fire Element essence!":5e3===ne?"Congratulations! You've successfully navigated through part of the temple and found a small treasure. The Fire Element essence awaits deeper within!":"Congratulations! You've successfully completed your mission and earned a reward!"}),(0,w.jsxs)("div",{className:"gamified-reward-amount-container",children:[(0,w.jsx)("div",{className:"gamified-reward-amount",children:ne.toFixed(0)}),(0,w.jsx)("div",{className:"gamified-reward-currency",children:"$GG"})]}),(0,w.jsxs)("div",{className:"gamified-reward-buttons",children:[ne>0&&(0,w.jsx)("button",{className:"gamified-reward-button claim",onClick:async()=>{const e=Q.find((e=>Number(e.tokenid)===Number(de)));if(e){le(!0);try{await x({address:t===g.dO?g.Zf:g.oc,abi:N,functionName:"claimReward",args:[e.tokenid]}).then((()=>{le(!1)})).finally((()=>{le(!1)})).catch((e=>{le(!1),console.error("Mission error:",e)})),d.Ay.success(`Successfully claimed ${ne} $GG!`)}catch(n){console.error("Claim error:",n),d.Ay.error("Failed to claim reward")}te(!1)}},children:(0,w.jsx)("span",{children:re?"Claiming...":"Claim Reward"})}),(0,w.jsx)("button",{className:"gamified-reward-button dismiss",onClick:()=>te(!1),children:(0,w.jsx)("span",{children:ne>0?"Claim Later":"Return to Base"})})]})]})]})})]})}},80662:e=>{e.exports=JSON.parse('[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"approved","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":false,"internalType":"bool","name":"approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_minter","type":"address"},{"indexed":false,"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"MintNFT","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Transfer","type":"event"},{"stateMutability":"payable","type":"fallback"},{"inputs":[],"name":"MAX_NFT_SUPPLY","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"approve","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getApproved","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"mintCnt","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_quantity","type":"uint256"}],"name":"mintNFTByOwner","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_quantity","type":"uint256"}],"name":"mintNFTByToken","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"mintPause","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"mintPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"mintToken","outputs":[{"internalType":"contract ERC20Burnable","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ownerOf","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"registerMe","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"reveal","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"bool","name":"approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"baseURI_","type":"string"}],"name":"setBaseURI","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_maxSupply","type":"uint256"}],"name":"setMaxSupply","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"extension_","type":"string"}],"name":"setMetadataExtension","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_mintPrice","type":"uint256"}],"name":"setMintPrice","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_mintToken","type":"address"}],"name":"setMintToken","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bool","name":"_pause","type":"bool"}],"name":"setPause","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bool","name":"_reveal","type":"bool"}],"name":"setReveal","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"_uri","type":"string"}],"name":"setUnrevealURI","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"index","type":"uint256"}],"name":"tokenByIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"index","type":"uint256"}],"name":"tokenOfOwnerByIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"tokenURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"transferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"unrevealURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"stateMutability":"payable","type":"receive"}]')}}]);
//# sourceMappingURL=6266.a5e104cb.chunk.js.map